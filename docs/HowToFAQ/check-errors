#! /usr/bin/env bash

d=$(dirname ${BASH_SOURCE[0]})
cd $d

D=../../Source/DafnyCore

echo ">>>> PARSER"

./check-errors-a Errors-Parser.md "$D/Dafny.atg $D/CoCo/Parser.frame $D/CoCo/Scanner.frame" "$D/AST/Grammar/ParseErrors.cs $D/AST/Grammar/ProgramParser.cs"



echo ">>>> GENERIC"

./check-errors-a Errors-Generic.md "$D/Generic/Util.cs $D/DafnyOptions.cs" "$D/Generic/GenericErrors.cs"


exit 0

csfiless="../../Source/DafnyCore/Resolver/*.cs ../../Source/DafnyCore/Resolver/*/*.cs"
csfiles="../../Source/DafnyCore/Resolver/ExpressionTester.cs ../../Source/DafnyCore/Resolver/TypeInferenceChecker.cs ../../Source/DafnyCore/Resolver/GhostInterestVisitor.cs"
./check-errors-a Errors-Resolution.md "$csfiles" ../../Source/DafnyCore/Resolver/ResolutionErrors.cs

exit 0

echo ">>>> REFINEMENT"

csfiles="../../Source/DafnyCore/Rewriters/RefinementTransformer.cs"
./check-errors-a Errors-Refinement.md "$csfiles" ../../Source/DafnyCore/Rewriters/RefinementErrors.cs

exit 0
echo ">>>> REWRITER"

csfiles="../../Source/DafnyCore/Rewriters/*.cs ../../Source/DafnyCore/Rewriters/*/*.cs"
./check-errors-a Errors-Rewriter.md "$csfiles" ../../Source/DafnyCore/Rewriters/RewriterErrors.cs

exit 0

echo ">>>> REFINEMENT"

csfiles="../../Source/DafnyCore/Resolver/RefinementTransformer.cs"
./check-errors-a Errors-Refinement.md "$csfiles" ../../Source/DafnyCore/Resolver/RefinementErrors.cs

exit 0
echo ">>>> COMPILER"

csfiles="../../Source/DafnyCore/Compilers/*.cs ../../Source/DafnyCore/Compilers/*/*.cs"
./check-errors-a Errors-Compiler.md "$csfiles" ../../Source/DafnyCore/Compilers/CompilerErrors.cs


